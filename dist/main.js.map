{"version":3,"sources":["webpack://gem-puzzle/./playSound.js","webpack://gem-puzzle/./swap.js","webpack://gem-puzzle/./script.js","webpack://gem-puzzle/./randomInteger.js"],"names":["playSound","a","wav","currentTime","play","swap","num","arg2","arg3","arg4","arg5","numbers","i1","j1","i2","j2","t","game","document","createElement","menu","statusbar","showtime","showmoves","scoreList","field","label","closeButton","numbersButton","textContent","shows","size","name","id","optionOne","optionTwo","optionThree","optionFour","optionFive","optionSix","value","selected","startButton","volumeButton","innerHTML","scoresButton","cellSound","continueGame","src","classList","add","body","append","prepend","localStorage","getItem","JSON","parse","addEventListener","toggle","result","i","length","scoreItem","score","time","querySelector","elems","querySelectorAll","remove","audio","muted","colorFont","elem","style","color","moves","gameState","cells","empty","left","top","element","cellSize","base","clocktimer","dateObj","dm","ds","readout","h","m","tm","s","ts","ms","StartTIME","cdateObj","Date","getTime","window","saveTime","stringify","setItem","parseInt","Math","round","setTimeout","ClearСlock","clearTimeout","stopTimer","refreshStatusbar","finishGame","results","record","splice","push","writeToStorage","alert","fieldElems","stopGame","checkWindowSize","clientWidth","forEach","item","width","height","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","move","index","cell","abs","emptyLeft","emptyTop","isFinished","every","confirm","link","min","max","rand","random","randomInteger","ei","ej","j","nums","ind","counter","emptyCell","event","preventDefault","getAttribute","draggable","numId","startCursorX","startCursorY","startX","startY","setAttribute","pageX","pageY","replace","startGame","turns","toString","removeItem"],"mappings":"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","file":"main.js","sourcesContent":["export default function playSound(a) {\r\n  const wav = a;\r\n  wav.currentTime = 0;\r\n  wav.play();\r\n}\r\n","// перемешивание создаваемых ячеек\r\nexport default function swap(num, arg2, arg3, arg4, arg5) {\r\n  const numbers = num;\r\n  const i1 = arg2;\r\n  const j1 = arg3;\r\n  const i2 = arg4;\r\n  const j2 = arg5;\r\n  const t = numbers[i1][j1];\r\n  numbers[i1][j1] = numbers[i2][j2];\r\n  numbers[i2][j2] = t;\r\n}\r\n","/* eslint-disable import/extensions */\r\nimport playSound from './playSound.js';\r\nimport randomInteger from './randomInteger.js';\r\nimport swap from './swap.js';\r\n\r\n/* eslint-disable no-alert */\r\nconst game = document.createElement('div');\r\nconst menu = document.createElement('div');\r\nconst statusbar = document.createElement('div');\r\nconst showtime = document.createElement('div');\r\nconst showmoves = document.createElement('div');\r\nconst scoreList = document.createElement('div');\r\nconst field = document.createElement('div');\r\nconst form = document.createElement('div');\r\nconst label = document.createElement('div');\r\nconst closeButton = document.createElement('button');\r\nconst numbersButton = document.createElement('button');\r\nnumbersButton.textContent = 'Nums off';\r\nnumbersButton.shows = false;\r\ncloseButton.textContent = 'Close';\r\nlabel.textContent = 'Field size: ';\r\nconst select = document.createElement('select');\r\nselect.size = '1';\r\nselect.name = 'select-field';\r\nselect.id = 'field-size';\r\nconst optionOne = document.createElement('option');\r\nconst optionTwo = document.createElement('option');\r\nconst optionThree = document.createElement('option');\r\nconst optionFour = document.createElement('option');\r\nconst optionFive = document.createElement('option');\r\nconst optionSix = document.createElement('option');\r\noptionOne.value = '3';\r\noptionOne.textContent = '3x3';\r\noptionTwo.value = '4';\r\noptionTwo.selected = 'true';\r\noptionTwo.textContent = '4x4';\r\noptionThree.value = '5';\r\noptionThree.textContent = '5x5';\r\noptionFour.value = '6';\r\noptionFour.textContent = '6x6';\r\noptionFive.value = '7';\r\noptionFive.textContent = '7x7';\r\noptionSix.value = '8';\r\noptionSix.textContent = '8x8';\r\nconst startButton = document.createElement('button');\r\nstartButton.textContent = 'Start';\r\nconst volumeButton = document.createElement('button');\r\nvolumeButton.innerHTML = '<img src = ./assets/sound-on.png alt=\"\">';\r\nconst scoresButton = document.createElement('button');\r\nscoresButton.textContent = 'Scores';\r\nconst cellSound = document.createElement('audio');\r\ncellSound.src = './assets/cell.wav';\r\ncellSound.classList.add('cellSound');\r\ndocument.body.append(cellSound);\r\ngame.classList.add('game');\r\nmenu.classList.add('menu');\r\nform.classList.add('form');\r\nstatusbar.classList.add('statusbar');\r\nstatusbar.textContent = 'Time passed: 00:00   Moves: 0';\r\nstartButton.classList.add('start');\r\nvolumeButton.classList.add('volume');\r\ncloseButton.classList.add('close-button');\r\nscoresButton.classList.add('best-scores');\r\nnumbersButton.classList.add('nums-button');\r\nfield.classList.add('field');\r\nscoreList.classList.add('score-list');\r\n\r\ndocument.body.append(game);\r\ngame.append(menu);\r\nscoreList.append(closeButton);\r\ndocument.body.prepend(scoreList);\r\nmenu.append(statusbar);\r\nstatusbar.append(showtime);\r\nstatusbar.append(showmoves);\r\nmenu.append(form);\r\nform.append(label, select);\r\nselect.append(optionOne, optionTwo, optionThree, optionFour, optionFive, optionSix);\r\nform.append(startButton);\r\nmenu.append(volumeButton, scoresButton, numbersButton);\r\ngame.append(field);\r\nlet image;\r\nlet continueGame;\r\nif (localStorage.getItem('continue')) continueGame = JSON.parse(localStorage.getItem('continue'));\r\n\r\nscoresButton.addEventListener('click', () => {\r\n  scoreList.classList.toggle('open');\r\n  let result = localStorage.getItem('results');\r\n  result = JSON.parse(result);\r\n  for (let i = 0; i < result.length; i += 1) {\r\n    const scoreItem = document.createElement('span');\r\n    scoreItem.classList.add('score-item');\r\n    scoreItem.textContent = `${i + 1}. Moves:  ${result[i].score} Time: ${result[i].time}`;\r\n    document.querySelector('.score-list').append(scoreItem);\r\n  }\r\n});\r\n\r\ncloseButton.addEventListener('click', () => {\r\n  const elems = scoreList.querySelectorAll('.score-item');\r\n  for (let i = 0; i < elems.length; i += 1) {\r\n    elems[i].remove();\r\n  }\r\n  scoreList.classList.toggle('open');\r\n});\r\n\r\nvolumeButton.addEventListener('click', () => {\r\n  const audio = document.querySelector('.cellSound');\r\n  audio.muted = (audio.muted === false) ? !audio.muted : false;\r\n  if (document.querySelector('.cellSound').muted === true) volumeButton.innerHTML = '<img src=\"./assets/sound-off.png\">';\r\n  else volumeButton.innerHTML = '<img src=\"./assets/sound-on.png\">';\r\n});\r\n\r\nnumbersButton.addEventListener('click', () => {\r\n  numbersButton.shows = !numbersButton.shows;\r\n  if (numbersButton.shows) {\r\n    numbersButton.textContent = 'Nums on';\r\n    const colorFont = document.querySelectorAll('.cell');\r\n    // eslint-disable-next-line no-restricted-syntax\r\n    for (const elem of colorFont) {\r\n      elem.style.color = 'white';\r\n    }\r\n  } else {\r\n    numbersButton.textContent = 'Nums off';\r\n    const colorFont = document.querySelectorAll('.cell');\r\n    // eslint-disable-next-line no-restricted-syntax\r\n    for (const elem of colorFont) {\r\n      elem.style.color = 'transparent';\r\n    }\r\n  }\r\n});\r\n\r\nlet moves = 0;\r\nlet gameState = false;\r\n\r\nlet cells = [];\r\nlet empty = {\r\n  value: '',\r\n  left: 0,\r\n  top: 0,\r\n  element: null,\r\n};\r\n\r\nlet cellSize = 100;\r\n\r\n// функции и переменные секундомера\r\nconst base = 60;\r\nlet clocktimer; let dateObj; let dm; let\r\n  ds;\r\nlet readout = '';\r\nlet h = 1;\r\nlet m = 1;\r\nlet tm = 1;\r\nlet s = 0;\r\nlet ts = 0;\r\nlet ms = 0;\r\n\r\nfunction StartTIME() {\r\n  const cdateObj = new Date();\r\n  const t = (cdateObj.getTime() - dateObj.getTime()) - (s * 1000);\r\n  window.addEventListener('unload', () => {\r\n    const saveTime = JSON.stringify([h, m, tm, s, ts, ms, dm, ds, clocktimer,\r\n      cdateObj, t, readout]);\r\n    localStorage.setItem('time', saveTime);\r\n  });\r\n  if (t > 999) {\r\n    s += 1;\r\n  }\r\n  if (s >= (m * base)) {\r\n    ts = 0;\r\n    m += 1;\r\n  } else {\r\n    ts = parseInt((ms / 100) + s, 10);\r\n    if (ts >= base) {\r\n      ts -= ((m - 1) * base);\r\n    }\r\n  }\r\n  if (m > (h * base)) {\r\n    tm = 1;\r\n    h += 1;\r\n  } else {\r\n    tm = parseInt((ms / 100) + m, 10);\r\n    if (tm >= base) {\r\n      tm -= ((h - 1) * base);\r\n    }\r\n  }\r\n  ms = Math.round(t / 10);\r\n  if (ms > 99) {\r\n    ms = 0;\r\n  }\r\n  if (ms === 0) {\r\n    ms = '00';\r\n  }\r\n  if (ms > 0 && ms <= 9) {\r\n    ms = `0${ms}`;\r\n  }\r\n  if (ts > 0) {\r\n    ds = ts;\r\n    if (ts < 10) {\r\n      ds = `0${ts}`;\r\n    }\r\n  } else {\r\n    ds = '00';\r\n  }\r\n  dm = tm - 1;\r\n  if (dm > 0) {\r\n    if (dm < 10) {\r\n      dm = `0${dm}`;\r\n    }\r\n  } else {\r\n    dm = '00';\r\n  }\r\n\r\n  readout = `${dm}:${ds}`;\r\n  statusbar.textContent = `Time passed: ${readout} Moves: ${moves}`;\r\n  clocktimer = setTimeout(StartTIME, 1);\r\n}\r\n\r\n// функция для сброса секундомера\r\nfunction ClearСlock() {\r\n  clearTimeout(clocktimer);\r\n  h = 1;\r\n  m = 1;\r\n  tm = 1;\r\n  s = 0;\r\n  ts = 0;\r\n  ms = 0;\r\n  readout = '00:00';\r\n  statusbar.textContent = `Time passed: ${readout} Moves: ${moves}`;\r\n}\r\n\r\n// Функция запуска и остановки секундомера\r\nfunction startTimer() {\r\n  ClearСlock();\r\n  dateObj = new Date();\r\n  if (continueGame) {\r\n    dateObj = new Date(localStorage.getItem('dateObj'));\r\n    continueGame = false;\r\n  }\r\n  localStorage.setItem('dateObj', dateObj);\r\n  StartTIME();\r\n}\r\n\r\nfunction stopTimer() {\r\n  clearTimeout(clocktimer);\r\n}\r\n\r\nfunction refreshStatusbar() {\r\n  statusbar.textContent = `Time passed: ${readout} Moves: ${moves}`;\r\n}\r\n\r\n// запись и чтение из localStorage\r\nfunction writeToStorage() {\r\n  let results = null;\r\n  const record = {\r\n    score: moves,\r\n    time: readout,\r\n  };\r\n\r\n  if (!localStorage.getItem('results')) {\r\n    results = [];\r\n    results.push(record);\r\n    results = JSON.stringify(results);\r\n    localStorage.setItem('results', results);\r\n  } else {\r\n    localStorage.getItem('results');\r\n    results = localStorage.getItem('results');\r\n    results = JSON.parse((results));\r\n    for (let i = 0; i < results.length; i += 1) {\r\n      if (results[i].score > record.score) {\r\n        if (results.length >= 10) {\r\n          results.splice(10, 1);\r\n          results.splice(i, 0, record);\r\n          results = JSON.stringify(results);\r\n          localStorage.setItem('results', results);\r\n        } else {\r\n          results.splice(i, 0, record);\r\n          results = JSON.stringify(results);\r\n          localStorage.setItem('results', results);\r\n        }\r\n        break;\r\n      }\r\n      if (results[i].score < record.score) {\r\n        if (results.length >= 10) {\r\n          break;\r\n        } else {\r\n          results.push(record);\r\n          results = JSON.stringify(results);\r\n          localStorage.setItem('results', results);\r\n        }\r\n        break;\r\n      }\r\n      if (results[i].score === record.score) {\r\n        if (results[i].time < record.time) {\r\n          if (results.length >= 10) {\r\n            results.splice(10, 1);\r\n            results.splice(i, 0, record);\r\n            results = JSON.stringify(results);\r\n            localStorage.setItem('results', results);\r\n          } else {\r\n            results.splice(i, 0, record);\r\n            results = JSON.stringify(results);\r\n            localStorage.setItem('results', results);\r\n          }\r\n          break;\r\n        } else {\r\n          if (results.length <= 10) {\r\n            results.splice(i + 1, 0, record);\r\n            results = JSON.stringify(results);\r\n            localStorage.setItem('results', results);\r\n          } else {\r\n            results.splice(i + 1, 0, record);\r\n            results = JSON.stringify(results);\r\n            localStorage.setItem('results', results);\r\n          }\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// завершение игры при выигрыше\r\nfunction stopGame() {\r\n  stopTimer();\r\n  ClearСlock();\r\n  const fieldElems = document.querySelectorAll('.cell');\r\n  document.querySelector('.emptycell').remove();\r\n  moves = 0;\r\n  cells = [];\r\n  for (let i = 0; i < fieldElems.length; i += 1) {\r\n    fieldElems[i].remove();\r\n  }\r\n  startButton.textContent = 'Start';\r\n  refreshStatusbar();\r\n}\r\n\r\nexport default function finishGame() {\r\n  gameState = false;\r\n  stopTimer();\r\n  writeToStorage();\r\n  alert(`Ура! Вы решили головоломку за ${readout} и ${moves} ходов`); // eslint-disable-line\r\n  stopGame();\r\n}\r\n\r\n// адаптив\r\nfunction checkWindowSize() {\r\n  if (document.body.clientWidth <= 768) {\r\n    cellSize = 35;\r\n    if (document.querySelector('.cell')) {\r\n      document.querySelectorAll('.cell').forEach((item) => {\r\n        const elem = item;\r\n        elem.style.width = '35px';\r\n        elem.style.height = '35px';\r\n      });\r\n      document.querySelector('.emptycell').style.height = '35px';\r\n      document.querySelector('.emptycell').style.width = '35px';\r\n      cells.forEach((item) => {\r\n        const elem = item;\r\n        elem.element.style.left = `${elem.left * cellSize}px`;\r\n        elem.element.style.top = `${elem.top * cellSize}px`;\r\n        elem.element.style.backgroundImage = image;\r\n        elem.element.style.backgroundRepeat = 'no-repeat';\r\n        elem.element.style.backgroundSize = `${select.value * cellSize}px ${select.value * cellSize}px`;\r\n        // eslint-disable-next-line no-bitwise\r\n        elem.element.style.backgroundPosition = `-${(elem.value % select.value) * cellSize}px -${(elem.value / select.value | 0) * cellSize}px`;\r\n      });\r\n      empty.element.style.left = `${empty.left * cellSize}px`;\r\n      empty.element.style.top = `${empty.top * cellSize}px`;\r\n    }\r\n  } else if (document.body.clientWidth > 768 && document.body.clientWidth <= 1200) {\r\n    cellSize = 60;\r\n    if (document.querySelector('.cell')) {\r\n      document.querySelectorAll('.cell').forEach((item) => {\r\n        const elem = item;\r\n        elem.style.width = '60px';\r\n        elem.style.height = '60px';\r\n      });\r\n      document.querySelector('.emptycell').style.height = '60px';\r\n      document.querySelector('.emptycell').style.width = '60px';\r\n      cells.forEach((item) => {\r\n        const elem = item;\r\n        elem.element.style.left = `${elem.left * cellSize}px`;\r\n        elem.element.style.top = `${elem.top * cellSize}px`;\r\n        elem.element.style.backgroundImage = image;\r\n        elem.element.style.backgroundRepeat = 'no-repeat';\r\n        elem.element.style.backgroundSize = `${select.value * cellSize}px ${select.value * cellSize}px`;\r\n        // eslint-disable-next-line no-bitwise\r\n        elem.element.style.backgroundPosition = `-${(elem.value % select.value) * cellSize}px -${(elem.value / select.value | 0) * cellSize}px`;\r\n      });\r\n      empty.element.style.left = `${empty.left * cellSize}px`;\r\n      empty.element.style.top = `${empty.top * cellSize}px`;\r\n    }\r\n  } else {\r\n    cellSize = 75;\r\n    if (document.querySelector('.cell')) {\r\n      document.querySelectorAll('.cell').forEach((item) => {\r\n        const elem = item;\r\n        elem.style.width = '75px';\r\n        elem.style.height = '75px';\r\n      });\r\n      document.querySelector('.emptycell').style.height = '75px';\r\n      document.querySelector('.emptycell').style.width = '75px';\r\n      cells.forEach((item) => {\r\n        const elem = item;\r\n        elem.element.style.left = `${elem.left * cellSize}px`;\r\n        elem.element.style.top = `${elem.top * cellSize}px`;\r\n        elem.element.style.backgroundImage = image;\r\n        elem.element.style.backgroundRepeat = 'no-repeat';\r\n        elem.element.style.backgroundSize = `${select.value * cellSize}px ${select.value * cellSize}px`;\r\n        // eslint-disable-next-line no-bitwise\r\n        elem.element.style.backgroundPosition = `-${(elem.value % select.value) * cellSize}px -${(elem.value / select.value | 0) * cellSize}px`;\r\n      });\r\n      empty.element.style.left = `${empty.left * cellSize}px`;\r\n      empty.element.style.top = `${empty.top * cellSize}px`;\r\n    }\r\n  }\r\n  field.style.width = `${cellSize * select.value}px`;\r\n  field.style.height = `${cellSize * select.value}px`;\r\n}\r\n\r\ncheckWindowSize();\r\n\r\nwindow.addEventListener('resize', checkWindowSize);\r\n\r\n// перемещение ячейки\r\nfunction move(index) {\r\n  const cell = cells[index];\r\n  const leftDiff = Math.abs(empty.left - cell.left);\r\n  const topDiff = Math.abs(empty.top - cell.top);\r\n  if (leftDiff + topDiff > 1) {\r\n    return;\r\n  }\r\n  checkWindowSize();\r\n  cell.element.style.left = `${empty.left * cellSize}px`;\r\n  cell.element.style.top = `${empty.top * cellSize}px`;\r\n  const emptyLeft = empty.left;\r\n  const emptyTop = empty.top;\r\n  empty.left = cell.left;\r\n  empty.top = cell.top;\r\n  empty.element.style.left = `${empty.left * cellSize}px`;\r\n  empty.element.style.top = `${empty.top * cellSize}px`;\r\n  cell.left = emptyLeft;\r\n  cell.top = emptyTop;\r\n\r\n  // проверка на выигрыш (после каждого хода)\r\n\r\n  const isFinished = cells.every((item) => item.value === item.top * select.value + item.left);\r\n\r\n  moves += 1;\r\n  if (isFinished) {\r\n    setTimeout(finishGame, 400);\r\n  }\r\n  refreshStatusbar();\r\n}\r\n\r\n// Генерация фишек на поле, перемешивание, вставка их в поле и назначение обработчиков\r\n\r\nfunction startGame() {\r\n  if (continueGame && JSON.parse(localStorage.getItem('gameState')) === true) {\r\n    // eslint-disable-next-line no-restricted-globals\r\n    continueGame = confirm('Do you want to continue saved game?');\r\n    if (continueGame && JSON.parse(localStorage.getItem('gameState')) === true) {\r\n      select.value = JSON.parse(localStorage.getItem('select'));\r\n      moves = JSON.parse(localStorage.getItem('turns'));\r\n      refreshStatusbar();\r\n    }\r\n  }\r\n\r\n  let link = randomInteger(1, 150);\r\n  if (continueGame && JSON.parse(localStorage.getItem('gameState')) === true) link = localStorage.getItem('link');\r\n  image = `url('./assets/box/${link}.jpg')`;\r\n  localStorage.setItem('link', link);\r\n  let numbers = []; let ei; let\r\n    ej;\r\n  checkWindowSize();\r\n  if (continueGame && JSON.parse(localStorage.getItem('gameState')) === true) {\r\n    numbers = JSON.parse(localStorage.getItem('numbers'));\r\n    ei = JSON.parse(localStorage.getItem('numbers')) - 1;\r\n    ej = ei;\r\n  } else {\r\n    for (let i = 0; i < select.value; i += 1) {\r\n      numbers[i] = [];\r\n      for (let j = 0; j < select.value; j += 1) {\r\n        if (i + j !== (select.value - 1) * 2) numbers[i][j] = i * select.value + j + 1;\r\n        else numbers[i][j] = '';\r\n      }\r\n    }\r\n    ei = select.value - 1;\r\n    ej = select.value - 1;\r\n    for (let i = 0; i < 1600; i += 1) {\r\n      switch (Math.round(3 * Math.random())) {\r\n        case 0: if (ei !== 0) swap(numbers, ei, ej, ei -= 1, ej); break; // up\r\n        case 1: if (ej !== select.value - 1) swap(numbers, ei, ej, ei, ej += 1); break; // right\r\n        case 2: if (ei !== select.value - 1) swap(numbers, ei, ej, ei += 1, ej); break; // down\r\n        case 3: if (ej !== 0) swap(numbers, ei, ej, ei, ej -= 1); break; // left\r\n        default: break;\r\n      }\r\n    }\r\n    const nums = JSON.stringify(numbers);\r\n    localStorage.setItem('numbers', nums);\r\n    localStorage.setItem('fieldValue', JSON.stringify(select.value));\r\n  }\r\n\r\n  let ind = 0;\r\n  let counter = 0;\r\n  for (let i = 1; i <= select.value; i += 1) {\r\n    for (let j = 1; j <= select.value; j += 1) {\r\n      if (numbers[i - 1][j - 1] === '') {\r\n        counter += 1;\r\n        const emptyCell = document.createElement('div');\r\n        emptyCell.classList.add('emptycell');\r\n\r\n        empty = {\r\n          value: '',\r\n          left: (counter - 1) % select.value,\r\n          top: ((counter - 1) - ((counter - 1) % select.value)) / select.value,\r\n          element: emptyCell,\r\n        };\r\n\r\n        if (continueGame) {\r\n          empty = JSON.parse(localStorage.getItem('empty'));\r\n          empty.element = emptyCell;\r\n        }\r\n\r\n        emptyCell.style.left = `${empty.left * cellSize}px`;\r\n        emptyCell.style.top = `${empty.top * cellSize}px`;\r\n        emptyCell.style.width = `${cellSize}px`;\r\n        emptyCell.style.height = `${cellSize}px`;\r\n        field.append(emptyCell);\r\n        emptyCell.addEventListener('dragover', (event) => {\r\n          event.preventDefault();\r\n        });\r\n        emptyCell.addEventListener('drop', () => {\r\n          const index = document.querySelector('.selected').getAttribute('numId');\r\n          move(index);\r\n          document.querySelector('.selected').classList.remove('selected');\r\n        });\r\n      } else {\r\n        const cell = document.createElement('div');\r\n        cell.draggable = true;\r\n        const value = numbers[i - 1][j - 1] - 1;\r\n\r\n        cell.classList.add('cell');\r\n        cell.textContent = value + 1;\r\n        cell.style.width = `${cellSize}px`;\r\n        cell.style.height = `${cellSize}px`;\r\n\r\n        let left = counter % select.value;\r\n        let top = (counter - left) / select.value;\r\n\r\n        if (continueGame) {\r\n          left = JSON.parse(localStorage.getItem('cells'))[ind].left;\r\n          top = JSON.parse(localStorage.getItem('cells'))[ind].top;\r\n          ind += 1;\r\n        }\r\n\r\n        const id = cells.length - 1;\r\n        const numId = id + 1;\r\n\r\n        cell.style.backgroundImage = image;\r\n        cell.style.backgroundRepeat = 'no-repeat';\r\n        cell.style.backgroundSize = `${select.value * cellSize}px ${select.value * cellSize}px`;\r\n        // eslint-disable-next-line no-bitwise\r\n        cell.style.backgroundPosition = `-${(value % select.value) * cellSize}px -${(value / select.value | 0) * cellSize}px`;\r\n        cell.setAttribute('numId', numId);\r\n        cells.push({\r\n          value,\r\n          left,\r\n          top,\r\n          element: cell,\r\n        });\r\n        cell.style.left = `${left * cellSize}px`;\r\n        cell.style.top = `${top * cellSize}px`;\r\n        counter += 1;\r\n        field.append(cell);\r\n\r\n        let startCursorX;\r\n        let startCursorY;\r\n        let startX;\r\n        let startY;\r\n\r\n        cell.addEventListener('click', () => {\r\n          cell.classList.add('selected');\r\n          playSound(document.querySelector('.cellSound'));\r\n          const index = document.querySelector('.selected').getAttribute('numId');\r\n          move(index);\r\n          cell.classList.remove('selected');\r\n        });\r\n\r\n        cell.addEventListener('dragstart', (event) => {\r\n          startCursorX = event.pageX; // Начальная позиция курсора по оси X\r\n          startCursorY = event.pageY; // Начальная позиция курсора по оси Y\r\n          startX = cell.style.left.replace('px', '') * 1;\r\n          startY = cell.style.top.replace('px', '') * 1;\r\n          cell.classList.add('selected');\r\n        });\r\n\r\n        cell.addEventListener('dragend', (event) => {\r\n          cell.style.left = startX + event.pageX - startCursorX;\r\n          cell.style.top = startY + event.pageY - startCursorY;\r\n          playSound(document.querySelector('.cellSound'));\r\n        });\r\n      }\r\n    }\r\n\r\n    gameState = true;\r\n    if (gameState === true) startButton.textContent = 'Restart';\r\n    else {\r\n      startButton.textContent = 'Start';\r\n      moves = 0;\r\n      ClearСlock();\r\n    }\r\n  }\r\n  startTimer();\r\n}\r\n\r\n// сброс состояния поля\r\n\r\nfunction clearField() {\r\n  stopTimer();\r\n  const fieldElems = document.querySelectorAll('.cell');\r\n  if (document.querySelector('.emptycell')) document.querySelector('.emptycell').remove();\r\n  moves = 0;\r\n  cells = [];\r\n  fieldElems.forEach((elem) => elem.remove());\r\n  refreshStatusbar();\r\n  startGame();\r\n}\r\n\r\nstartButton.addEventListener('click', clearField);\r\n\r\nfunction saveGameState() {\r\n  if (gameState) {\r\n    continueGame = true;\r\n    const turns = JSON.stringify(moves);\r\n    localStorage.setItem('turns', turns);\r\n    localStorage.setItem('continue', continueGame.toString());\r\n    localStorage.setItem('gameState', gameState);\r\n    localStorage.setItem('select', JSON.stringify(select.value));\r\n    localStorage.setItem('cells', JSON.stringify(cells));\r\n    localStorage.setItem('empty', JSON.stringify(empty));\r\n  } else {\r\n    localStorage.removeItem('turns');\r\n    localStorage.removeItem('select');\r\n    continueGame = false;\r\n    localStorage.setItem('continue', continueGame.toString());\r\n    localStorage.setItem('gameState', gameState);\r\n  }\r\n}\r\n\r\nwindow.addEventListener('unload', saveGameState);\r\n","export default function randomInteger(min, max) {\r\n  const rand = min - 0.5 + Math.random() * (max - min + 1);\r\n  return Math.round(rand);\r\n}\r\n"],"sourceRoot":""}